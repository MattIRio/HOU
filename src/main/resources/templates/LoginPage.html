<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glassmorphism Login Form | CodingNepal</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<video autoplay muted loop id="bg-video">
    <source src="/video/video.mp4" type="video/mp4">
</video>
<div class="wrapper">
    <form action="/login" method="post" th:action="@{/login}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <div th:if="${registrationSuccess}" class="alert alert-success">
            <p th:text="${registrationSuccess}" style="color: #49ec41;"></p>
        </div>
        <div th:if="${param.error}" class="alert alert-fail">
            <p th:text="${wro}" style="color: #ee2751;"></p>
        </div>
        <h2>Login</h2>
        <div class="input-field">
            <input type="email" name = "email" placeholder="Email" required>
            <label>Enter your email</label>
        </div>

        <div class="input-field">
            <input type="password" name = "password" placeholder="Password" required
                   pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                   title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
            <label>Enter your password</label>
        </div>

        <div class="forget">
            <label for="remember">
                <input type="checkbox" id="remember">
                <p>Remember me</p>
            </label>
        </div>
        <div class="input-box">
            <button type="submit" name="submit" value="Login">Log In</button>
        </div>
        <div class="register">
            <p>Don't have an account? <a href="/register">Register</a></p>
        </div>
    </form>

</div>
<script>
    document.querySelectorAll('.input-field input').forEach(input => {
    input.addEventListener('focus', function() {
        this.nextElementSibling.classList.add('active');
    });

    input.addEventListener('blur', function() {
        if (!this.value) {
            this.nextElementSibling.classList.remove('active');
        }
    });
});
</script>
</body>
</html>